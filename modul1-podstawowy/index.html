<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç Cyfrowy Odkrywca ≈öwiata</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            font-size: 2em;
            opacity: 0.1;
            animation: float 8s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .game-container {
            position: relative;
            z-index: 2;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .explorer-rank {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            height: 100%;
            transition: width 0.5s ease;
        }

        .level-navigation {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .level-nav-btn {
            background: #e0e0e0;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .level-nav-btn:hover {
            background: #d0d0d0;
        }

        .level-nav-btn.active {
            background: #667eea;
            color: white;
        }

        .level-nav-btn.completed {
            background: #4CAF50;
            color: white;
        }

        .level-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .content {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .start-screen {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .start-screen h2 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 20px;
        }

        .start-screen p {
            font-size: 1.2em;
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .start-btn, .next-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .start-btn:hover, .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .level-icon {
            font-size: 6em;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .level-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .explanation {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            line-height: 1.6;
        }

        .digital-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .digital-title {
            color: #667eea;
            font-size: 1.5em;
            margin-bottom: 20px;
            text-align: center;
        }

        .question {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .question h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .answer-btn {
            display: block;
            width: 100%;
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1em;
        }

        .answer-btn:hover {
            background: #f0f0f0;
            border-color: #667eea;
        }

        .answer-btn.correct {
            background: #d4edda;
            border-color: #4CAF50;
            color: #155724;
        }

        .answer-btn.incorrect {
            background: #f8d7da;
            border-color: #f44336;
            color: #721c24;
        }

        .question-hint {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #2196F3;
            display: none;
        }

        .retry-message {
            background: #fff3cd;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #ffc107;
            display: none;
        }

        .reward-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 500px;
            width: 90%;
            text-align: center;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .reward-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .reward-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .celebration {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .certificate {
            background: linear-gradient(135deg, #fff, #f8f9fa);
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            border: 3px solid #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .digital-helper-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .digital-helper-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px 10px;
            }
            
            .level-title {
                font-size: 2em;
            }

            .level-navigation {
                gap: 4px;
            }

            .level-nav-btn {
                padding: 6px 10px;
                font-size: 0.8em;
            }

            .start-screen {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Digital Elements Background -->
    <div class="floating-elements" id="floatingElements"></div>

    <div class="game-container">
        <div class="header">
            <h1>üåç Cyfrowy Odkrywca ≈öwiata</h1>
            <div class="explorer-rank" id="explorerRank">
                <span>üå±</span>
                <span>Cyfrowy PoczƒÖtkujƒÖcy</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="level-navigation" id="levelNavigation">
                <!-- Dynamic navigation buttons -->
            </div>
        </div>

        <div class="content" id="gameContent">
            <!-- Dynamic content -->
        </div>
    </div>

    <button class="digital-helper-btn" onclick="showHelper()">ü§ñ Pomoc</button>

    <!-- Reward Popup -->
    <div class="reward-popup" id="rewardPopup">
        <div class="reward-icon" id="rewardIcon">üéâ</div>
        <h2 id="rewardTitle" style="color: #667eea; margin-bottom: 15px;">Poziom Uko≈Ñczony!</h2>
        <p id="rewardText" style="font-size: 1.3em; margin-bottom: 20px;"></p>
        <p id="rewardSubText" style="color: #666; margin-bottom: 25px;"></p>
        <div id="rewardButtons"></div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <script>
        // Game state
        let currentLevel = 0;
        let completedLevels = [];
        let questionsAnswered = 0;
        let totalQuestions = 0;
        let explorerRank = 'Cyfrowy PoczƒÖtkujƒÖcy';
        let questionAttempts = {};
        let gameStats = {
            startTime: new Date(),
            correctAnswers: 0,
            totalAttempts: 0,
            timeSpent: 0,
            finalTestAttempts: 0
        };

        // Explorer ranks based on progress
        const explorerRanks = [
            { min: 0, max: 0, name: "üå± Cyfrowy PoczƒÖtkujƒÖcy", icon: "üå±" },
            { min: 1, max: 2, name: "üîç Skaut Wyszukiwania", icon: "üîç" },
            { min: 3, max: 4, name: "üõ°Ô∏è Specjalista Bezpiecze≈Ñstwa", icon: "üõ°Ô∏è" },
            { min: 5, max: 6, name: "üåê Wƒôdrowiec Sieci", icon: "üåê" },
            { min: 7, max: 8, name: "üí° Cyfrowy Detektyw", icon: "üí°" },
            { min: 9, max: 10, name: "üèÜ Kapitan Tre≈õci", icon: "üèÜ" },
            { min: 11, max: 11, name: "üåü Mistrz Cyfrowego ≈öwiata", icon: "üåü" }
        ];

        // Level data
        const levels = [
            {
                id: 1,
                title: "Bohater Wyszukiwania",
                icon: "üîç",
                color: "#E74C3C",
                badge: "Uczony Wyszukiwania",
                explanation: `<strong>üîç Zostajesz bohaterem wyszukiwania!</strong><br>
                Musisz przygotowaƒá prezentacjƒô o s≈Çoniach. Bƒôdziesz szukaƒá w internecie, ale nie wszystkie strony internetowe majƒÖ dobre informacje! Niekt√≥re strony wymy≈õlajƒÖ rzeczy. Nauczysz siƒô jak znajdowaƒá prawdziwe informacje!
                <br><br>
                <strong>‚úÖ Dobre strony:</strong> Wikipedia, portale edukacyjne, strony szkolne.
                <br><strong>‚ùå Ostro≈ºnie z:</strong> Strony sprzeda≈ºowe, blogi nieznanych os√≥b.`,
                questions: [
                    {
                        question: "Szukasz informacji o s≈Çoniach do prezentacji. Kt√≥ra strona jest najbardziej wiarygodna?",
                        answers: [
                            { text: "üõí Strona, kt√≥ra sprzedaje pluszowe s≈Çonie", correct: false },
                            { text: "üìö Wikipedia o s≈Çoniach", correct: true },
                            { text: "üí¨ Blog kogo≈õ, kto raz widzia≈Ç s≈Çonia", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego Wikipedia jest zazwyczaj wiarygodna do projekt√≥w szkolnych?",
                        answers: [
                            { text: "üé® Poniewa≈º ma ≈Çadne zdjƒôcia", correct: false },
                            { text: "üë• Poniewa≈º wielu ekspert√≥w sprawdza informacje", correct: true },
                            { text: "üí∞ Poniewa≈º jest darmowa", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 2,
                title: "Potw√≥r Ciasteczek",
                icon: "üç™",
                color: "#3498DB",
                badge: "Ochroniarz Prywatno≈õci",
                explanation: `<strong>üç™ Ciasteczka to nie sƒÖ do jedzenia!</strong><br>
                Strony internetowe dajƒÖ twojemu komputerowi ma≈Çe pliki (cookies) ≈ºeby pamiƒôtaƒá kim jeste≈õ. Niekt√≥re sƒÖ przydatne, inne ≈õledzƒÖ ciƒô wszƒôdzie!
                <br><br>
                <strong>‚úÖ Dobre ciasteczka:</strong> Pamiƒôtanie danych logowania.
                <br><strong>‚ö†Ô∏è IrytujƒÖce ciasteczka:</strong> ≈öledzenie gdzie klikasz dla reklam.`,
                questions: [
                    {
                        question: "Strona pyta czy chcesz zaakceptowaƒá ciasteczka. Co robisz?",
                        answers: [
                            { text: "‚úÖ Akceptujƒô wszystko - to ≈Çatwiejsze", correct: false },
                            { text: "‚öôÔ∏è Akceptujƒô tylko niezbƒôdne ciasteczka", correct: true },
                            { text: "‚ùå Nie akceptujƒô nic wcale", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego strony chcƒÖ ci daƒá ciasteczka?",
                        answers: [
                            { text: "üéÅ ≈ªeby byƒá mi≈Çe", correct: false },
                            { text: "üìä ≈ªeby pamiƒôtaƒá co robisz i pokazywaƒá reklamy", correct: true },
                            { text: "üç™ Poniewa≈º sƒÖ smakowite", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 3,
                title: "Detektyw Reklam",
                icon: "üì∫",
                color: "#F39C12",
                badge: "Tropiciel Reklam",
                explanation: `<strong>üì∫ Reklamy sƒÖ wszƒôdzie!</strong><br>
                Na YouTube, w grach, na stronach - wszƒôdzie firmy pr√≥bujƒÖ ci co≈õ sprzedaƒá. Jako prawdziwy detektyw nauczysz siƒô rozpoznawaƒá reklamy!
                <br><br>
                <strong>üïµÔ∏è Rozpoznawanie reklam:</strong> Jest napisane 'Reklama', 'Sponsorowane' lub 'Ad'.`,
                questions: [
                    {
                        question: "Widzisz film na YouTube o 'NAJLEPSZYM TELEFONIE W HISTORII!' Co my≈õlisz?",
                        answers: [
                            { text: "üì± To musi byƒá prawda!", correct: false },
                            { text: "ü§î To prawdopodobnie reklama ≈ºeby sprzedaƒá telefony", correct: true },
                            { text: "üé¨ To po prostu zabawny film", correct: false }
                        ]
                    },
                    {
                        question: "Jak rozpoznasz reklamƒô w internecie?",
                        answers: [
                            { text: "üé® Po ≈Çadnych kolorach", correct: false },
                            { text: "üè∑Ô∏è Jest napisane 'Reklama' lub 'Sponsorowane'", correct: true },
                            { text: "üì¢ Kiedy brzmi bardzo g≈Ço≈õno", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 4,
                title: "Stra≈ºnik Gier",
                icon: "üéÆ",
                color: "#9B59B6",
                badge: "Bezpieczny Gracz",
                explanation: `<strong>üéÆ Bezpieczne granie to super sprawa!</strong><br>
                W grach online mo≈ºesz rozmawiaƒá z innymi graczami. Ale nie wszyscy sƒÖ mili. Nauczysz siƒô jak graƒá bezpiecznie i fajnie!
                <br><br>
                <strong>üõ°Ô∏è Bezpieczne granie:</strong> Rozmawiaj tylko o grze, nie podawaj danych osobowych.`,
                questions: [
                    {
                        question: "W grze kto≈õ pyta gdzie mieszkasz. Co odpowiadasz?",
                        answers: [
                            { text: "üè† Mieszkam w [twoje miasto]", correct: false },
                            { text: "üéÆ Porozmawiajmy o grze!", correct: true },
                            { text: "ü§ê Nic nie m√≥wiƒô", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego wa≈ºne jest ≈ºeby w grach rozmawiaƒá tylko o grze?",
                        answers: [
                            { text: "üéØ ≈ªeby gra by≈Ça fajniejsza", correct: false },
                            { text: "üõ°Ô∏è Dla twojego bezpiecze≈Ñstwa - nie wiesz kim naprawdƒô sƒÖ ci ludzie", correct: true },
                            { text: "ü§ñ Poniewa≈º komputer tego chce", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 5,
                title: "Ochroniarz Telefonu",
                icon: "üì±",
                color: "#1ABC9C",
                badge: "Obro≈Ñca UrzƒÖdze≈Ñ",
                explanation: `<strong>üì± Cudzy telefon = ostro≈ºnie!</strong><br>
                Czasami mo≈ºesz u≈ºywaƒá telefonu lub tabletu kogo≈õ innego. Ale nie mo≈ºesz dotykaƒá wszystkiego!
                <br><br>
                <strong>‚úÖ W porzƒÖdku:</strong> Graj w grƒô, kt√≥rƒÖ ci pokazali.
                <br><strong>‚ùå Nie w porzƒÖdku:</strong> Czytanie wiadomo≈õci, przeglƒÖdanie zdjƒôƒá, zmienianie ustawie≈Ñ.`,
                questions: [
                    {
                        question: "Mo≈ºesz u≈ºywaƒá iPada babci. Czego NIE robisz?",
                        answers: [
                            { text: "üéÆ Gram w grƒô, kt√≥rƒÖ mi pokaza≈Ça", correct: false },
                            { text: "üì∏ Patrzƒô na jej zdjƒôcia", correct: true },
                            { text: "üéµ S≈Çucham muzyki", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego wa≈ºne jest ≈ºeby nie zaglƒÖdaƒá do cudzych wiadomo≈õci?",
                        answers: [
                            { text: "üì± Poniewa≈º telefon siƒô zepsuje", correct: false },
                            { text: "ü§ê Poniewa≈º ka≈ºdy ma prawo do prywatno≈õci", correct: true },
                            { text: "üéÆ Poniewa≈º wtedy nie mo≈ºesz graƒá", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 6,
                title: "Kapitan YouTube",
                icon: "ü§ñ",
                color: "#E67E22",
                badge: "Dow√≥dca Tre≈õci",
                explanation: `<strong>ü§ñ YouTube decyduje co widzisz!</strong><br>
                YouTube patrzy na co klikasz i wtedy pokazuje ci wiƒôcej tego samego. Ale ty jeste≈õ szefem tego co oglƒÖdasz!
                <br><br>
                <strong>üéØ Ty decydujesz:</strong> Szukaj sam ciekawych film√≥w zamiast tylko klikaƒá to co YouTube proponuje.`,
                questions: [
                    {
                        question: "YouTube ciƒÖgle pokazuje straszne filmy. Co mo≈ºesz zrobiƒá?",
                        answers: [
                            { text: "üò∞ Po prostu oglƒÖdaƒá dalej", correct: false },
                            { text: "üîç Szukaƒá samemu fajnych film√≥w", correct: true },
                            { text: "üì± Od≈Ço≈ºyƒá telefon", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego YouTube czasami pokazuje te same typy film√≥w?",
                        answers: [
                            { text: "ü§ñ YouTube patrzy na co klikasz i my≈õli ≈ºe ci siƒô to podoba", correct: true },
                            { text: "üéÆ Poniewa≈º sƒÖ tylko takie filmy", correct: false },
                            { text: "üë• Poniewa≈º wszystkie dzieci to oglƒÖdajƒÖ", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 7,
                title: "Fa≈Çszywy Detektyw",
                icon: "üïµÔ∏è",
                color: "#2ECC71",
                badge: "Poszukiwacz Prawdy",
                explanation: `<strong>üïµÔ∏è Nie wszystko w internecie jest prawdziwe!</strong><br>
                Ludzie mogƒÖ robiƒá fa≈Çszywe zdjƒôcia, pisaƒá nieprawdziwe historie lub robiƒá ≈ºarty. Ty zostaniesz detektywem, kt√≥ry widzi r√≥≈ºnicƒô!
                <br><br>
                <strong>ü§î Zapytaj siebie:</strong> Czy to brzmi logicznie? Czy inne strony te≈º to majƒÖ?`,
                questions: [
                    {
                        question: "Widzisz zdjƒôcie tƒôczowego jednoro≈ºca w waszym ogrodzie. Co my≈õlisz?",
                        answers: [
                            { text: "ü¶Ñ Wow, jednoro≈ºce naprawdƒô istniejƒÖ!", correct: false },
                            { text: "ü§î To wyglƒÖda na fa≈Çszywe - jednoro≈ºce nie istniejƒÖ", correct: true },
                            { text: "üì∏ Te≈º p√≥jdƒô robiƒá zdjƒôcia", correct: false }
                        ]
                    },
                    {
                        question: "Jak sprawdzasz czy co≈õ jest prawdziwe?",
                        answers: [
                            { text: "üéÆ Pytam w grze", correct: false },
                            { text: "üîç Szukam w Google czy inne strony te≈º to majƒÖ", correct: true },
                            { text: "üì± Po prostu wierzƒô", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 8,
                title: "Stra≈ºnik Informacji",
                icon: "üìä",
                color: "#34495E",
                badge: "Profesjonalista Prywatno≈õci",
                explanation: `<strong>üìä Twoje informacje sƒÖ cenne!</strong><br>
                Strony czasami pytajƒÖ o twoje imiƒô, wiek, adres. Ale dlaczego? Niekt√≥re strony naprawdƒô tego potrzebujƒÖ, inne nie!
                <br><br>
                <strong>üõ°Ô∏è Zasada:</strong> Podawaj prawdziwe informacje tylko za zgodƒÖ rodzic√≥w.`,
                questions: [
                    {
                        question: "Strona z grami prosi o twoje prawdziwe imiƒô i adres. Co robisz?",
                        answers: [
                            { text: "‚úçÔ∏è Wpisujƒô - przecie≈º pytajƒÖ", correct: false },
                            { text: "ü§î Najpierw pytam dlaczego tego potrzebujƒÖ", correct: true },
                            { text: "üéÆ Po prostu wymy≈õlam fa≈Çszywe imiƒô", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego strony czasami chcƒÖ znaƒá twoje prawdziwe imiƒô?",
                        answers: [
                            { text: "üéÅ ≈ªeby wys≈Çaƒá ci niespodzianki", correct: false },
                            { text: "üìä ≈ªeby u≈ºywaƒá twoich danych do reklam lub innych cel√≥w", correct: true },
                            { text: "ü§ñ Poniewa≈º komputery tego potrzebujƒÖ", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 9,
                title: "Kontroler Tre≈õci",
                icon: "üì∫",
                color: "#8E44AD",
                badge: "MƒÖdry OglƒÖdacz",
                explanation: `<strong>üì∫ Ty jeste≈õ szefem tego co oglƒÖdasz!</strong><br>
                Czasami widzisz rzeczy, kt√≥re sƒÖ straszne, smutne lub nieprzyjemne. To nie twoja wina! Zawsze mo≈ºesz przestaƒá oglƒÖdaƒá.
                <br><br>
                <strong>üõ°Ô∏è Pamiƒôtaj:</strong> Je≈õli co≈õ ci sprawia strach lub smutek, przesta≈Ñ oglƒÖdaƒá.`,
                questions: [
                    {
                        question: "OglƒÖdasz film i robi ci siƒô strach. Co robisz?",
                        answers: [
                            { text: "‚è∏Ô∏è Przestajƒô oglƒÖdaƒá i szukam czego≈õ innego", correct: true },
                            { text: "üò∞ OglƒÖdam dalej bo ju≈º zaczƒÖ≈Çem", correct: false },
                            { text: "üëÄ Patrzƒô przez palce", correct: false }
                        ]
                    },
                    {
                        question: "SkƒÖd wiesz czy film jest odpowiedni dla ciebie?",
                        answers: [
                            { text: "üè∑Ô∏è Patrzƒô na oznaczenie wieku", correct: true },
                            { text: "üé® Je≈õli ma ≈Çadne kolory", correct: false },
                            { text: "‚≠ê Je≈õli ma du≈ºo gwiazdek", correct: false }
                        ]
                    }
                ]
            },
            {
                id: 10,
                title: "Stra≈ºnik Pieniƒôdzy",
                icon: "üí∞",
                color: "#E91E63",
                badge: "Mistrz Pieniƒôdzy",
                explanation: `<strong>üí∞ Gry chcƒÖ twoich pieniƒôdzy!</strong><br>
                W aplikacjach i grach czasami widzisz: 'Kup monety!' lub 'ZdobƒÖd≈∫ supermoce za 2,99 z≈Ç!' To sƒÖ zakupy w aplikacji. WydajƒÖ siƒô tanie, ale szybko siƒô sumujƒÖ!
                <br><br>
                <strong>üéÆ Zasada:</strong> Nigdy nie kupuj bez zgody rodzic√≥w!`,
                questions: [
                    {
                        question: "Grasz w darmowƒÖ grƒô i widzisz: 'Kup 100 diament√≥w za 0,99 z≈Ç!' Co robisz?",
                        answers: [
                            { text: "üíé Kupujƒô, to tylko 99 groszy", correct: false },
                            { text: "üë®‚Äçüë©‚Äçüëß Najpierw pytam rodzic√≥w", correct: true },
                            { text: "üéÆ Gram dalej bez kupowania", correct: false }
                        ]
                    },
                    {
                        question: "Dlaczego wiele gier jest 'darmowych' do pobrania?",
                        answers: [
                            { text: "üéÅ Poniewa≈º tw√≥rcy sƒÖ mili", correct: false },
                            { text: "üí∞ ZarabiajƒÖ pieniƒÖdze gdy p√≥≈∫niej kupujesz rzeczy w grze", correct: true },
                            { text: "üéÆ Poniewa≈º robienie gier nic nie kosztuje", correct: false }
                        ]
                    }
                ]
            }
        ];

        // Initialize game
        function initGame() {
            generateFloatingElements();
            showStartScreen();
            updateLevelNavigation();
            updateExplorerRank();
            
            // Load saved progress
            const saved = localStorage.getItem('cyfrowy-odkrywca-postep');
            if (saved) {
                const progress = JSON.parse(saved);
                completedLevels = progress.completed || [];
                currentLevel = progress.current || 0;
                explorerRank = progress.rank || 'Cyfrowy PoczƒÖtkujƒÖcy';
                gameStats = { ...gameStats, ...progress.stats };
                updateExplorerRank();
            }
        }

        function generateFloatingElements() {
            const elementsContainer = document.getElementById('floatingElements');
            const digitalIcons = ['üîç', 'üç™', 'üì∫', 'üéÆ', 'üì±', 'ü§ñ', 'üïµÔ∏è', 'üìä', 'üí∞', 'üÜò', 'üåç'];
            
            for (let i = 0; i < 15; i++) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                element.textContent = digitalIcons[Math.floor(Math.random() * digitalIcons.length)];
                element.style.left = Math.random() * 100 + '%';
                element.style.top = Math.random() * 100 + '%';
                element.style.animationDelay = Math.random() * 8 + 's';
                element.style.animationDuration = (Math.random() * 4 + 6) + 's';
                elementsContainer.appendChild(element);
            }
        }

        function showStartScreen() {
            const content = document.getElementById('gameContent');
            content.innerHTML = `
                <div class="start-screen">
                    <div style="font-size: 6em; margin-bottom: 30px;">üåçüöÄ‚ú®</div>
                    <h2>Witaj Cyfrowy Odkrywco ≈öwiata!</h2>
                    <p>Zosta≈Ñ prawdziwym cyfrowym podr√≥≈ºnikiem! Naucz siƒô jak mƒÖdrze, bezpiecznie i ≈õwiadomie poruszaƒá siƒô po cyfrowym ≈õwiecie. Od wyszukiwania w internecie po bezpieczne granie - zostaniesz panem technologii!</p>
                    <p>üéØ <strong>Misja:</strong> Uko≈Ñcz wszystkie ${levels.length} poziom√≥w i zosta≈Ñ Mistrzem Cyfrowego ≈öwiata!</p>
                    <button class="start-btn" onclick="startGame()">üöÄ Zacznij Podr√≥≈º OdkrywczƒÖ!</button>
                    ${completedLevels.length > 0 ? `<br><button class="next-btn" onclick="continueGame()">üìñ Kontynuuj gdzie sko≈Ñczy≈Çem</button>` : ''}
                </div>
            `;
        }

        function startGame() {
            currentLevel = 1;
            questionsAnswered = 0;
            gameStats.startTime = new Date();
            showLevel(1);
        }

        function continueGame() {
            if (completedLevels.length === levels.length) {
                showCelebration();
            } else {
                showLevel(completedLevels.length + 1);
            }
        }

        function showLevel(levelNum) {
            currentLevel = levelNum;
            const level = levels[levelNum - 1];
            questionsAnswered = 0;
            totalQuestions = level.questions.length;
            questionAttempts = {};
            
            updateProgress();
            updateLevelNavigation();
            
            const content = document.getElementById('gameContent');
            content.innerHTML = `
                <div class="level-icon" style="color: ${level.color}">${level.icon}</div>
                <h2 class="level-title" style="color: ${level.color}">Poziom ${level.id}: ${level.title}</h2>
                
                <div class="explanation" style="border-left-color: ${level.color}">
                    ${level.explanation}
                </div>

                <div class="digital-section">
                    <h3 class="digital-title">üß† Przetestuj swojƒÖ cyfrowƒÖ wiedzƒô!</h3>
                    ${level.questions.map((q, index) => `
                        <div class="question" id="question-${index}">
                            <h3>Pytanie ${index + 1}: ${q.question}</h3>
                            ${q.answers.map((answer, answerIndex) => `
                                <button class="answer-btn" onclick="checkAnswer(this, ${answer.correct}, ${index})">${answer.text}</button>
                            `).join('')}
                            <div class="question-hint" id="hint-${index}">
                                <strong>üí° Wskaz√≥wka:</strong> ${getHintForQuestion(q.question)}
                            </div>
                            <div class="retry-message" id="retry-${index}">
                                üåü Spr√≥buj ponownie! Zostaniesz prawdziwym cyfrowym odkrywcƒÖ!
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function checkAnswer(button, isCorrect, questionIndex) {
            const question = document.getElementById(`question-${questionIndex}`);
            const buttons = question.querySelectorAll('.answer-btn');
            const hint = document.getElementById(`hint-${questionIndex}`);
            const retry = document.getElementById(`retry-${questionIndex}`);
            
            // Track attempts
            if (!questionAttempts[questionIndex]) {
                questionAttempts[questionIndex] = 0;
            }
            questionAttempts[questionIndex]++;
            gameStats.totalAttempts++;
            
            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);
            
            if (isCorrect) {
                button.classList.add('correct');
                gameStats.correctAnswers++;
                questionsAnswered++;
                
                // Check if level is complete
                if (questionsAnswered === totalQuestions) {
                    completedLevels.push(currentLevel);
                    saveProgress();
                    updateExplorerRank();
                    
                    setTimeout(() => {
                        if (currentLevel === levels.length) {
                            showCelebration();
                        } else {
                            showReward();
                        }
                    }, 1000);
                }
            } else {
                button.classList.add('incorrect');
                
                // Show hint after first wrong answer
                if (questionAttempts[questionIndex] === 1) {
                    hint.style.display = 'block';
                }
                
                // Show retry message and re-enable buttons after 2 seconds
                retry.style.display = 'block';
                setTimeout(() => {
                    buttons.forEach(btn => {
                        btn.disabled = false;
                        btn.classList.remove('incorrect');
                    });
                    retry.style.display = 'none';
                }, 2000);
            }
        }

        function getHintForQuestion(questionText) {
            const hints = {
                "informacje o s≈Çoniach": "Strony kt√≥re sprzedajƒÖ informacje czƒôsto chcƒÖ czego≈õ od ciebie - prawdziwe strony informacyjne jak Wikipedia sƒÖ za darmo.",
                "ciasteczka": "Akceptuj tylko te ciasteczka, kt√≥re sƒÖ naprawdƒô potrzebne stronie - nie wszystkie ≈õledzƒÖce cookies.",
                "NAJLEPSZYM TELEFONIE": "Je≈õli co≈õ brzmi zbyt dobrze ≈ºeby by≈Ço prawdziwe, to prawdopodobnie jest reklamƒÖ.",
                "gdzie mieszkasz": "W grach rozmawiasz tylko o grze - nigdy o rzeczach osobistych.",
                "iPada babci": "Szanuj prywatno≈õƒá innych - r√≥b tylko to na co masz pozwolenie.",
                "straszne filmy": "Ty decydujesz co oglƒÖdasz - szukaj sam fajnych film√≥w.",
                "tƒôczowego jednoro≈ºca": "Je≈õli co≈õ brzmi zbyt szalone ≈ºeby by≈Ço prawdziwe, prawdopodobnie nie jest.",
                "prawdziwe imiƒô i adres": "Zapytaj siebie: dlaczego ta gra potrzebuje mojego prawdziwego adresu?",
                "robi ci siƒô strach": "Ty jeste≈õ szefem tego co oglƒÖdasz - je≈õli co≈õ jest straszne, mo≈ºesz zawsze przestaƒá.",
                "100 diament√≥w za 0,99 z≈Ç": "Czyje pieniƒÖdze by≈õ wydawa≈Ç? Zawsze najpierw pytaj rodzic√≥w."
            };
            
            for (let key in hints) {
                if (questionText.toLowerCase().includes(key)) {
                    return hints[key];
                }
            }
            return "Pomy≈õl dobrze o tym czego nauczy≈Çe≈õ siƒô w tym poziomie!";
        }

        function showReward() {
            const level = levels[currentLevel - 1];
            const firstTryCorrect = Object.values(questionAttempts).filter(attempts => attempts === 1).length;
            const badgeEarned = firstTryCorrect === totalQuestions;
            
            document.getElementById('rewardIcon').textContent = badgeEarned ? 'üèÜ' : 'üéâ';
            document.getElementById('rewardTitle').textContent = badgeEarned ? 'Poziom Opanowany! üéâ' : 'Poziom Uko≈Ñczony!';
            
            if (badgeEarned) {
                document.getElementById('rewardText').innerHTML = `Zdoby≈Çe≈õ odznakƒô "${level.badge}"! ${level.icon}`;
                document.getElementById('rewardSubText').innerHTML = `Super! Zrozumia≈Çe≈õ ${firstTryCorrect} z ${totalQuestions} pyta≈Ñ od razu dobrze!`;
            } else {
                document.getElementById('rewardText').innerHTML = `Uko≈Ñczy≈Çe≈õ poziom ${currentLevel}! üéØ`;
                document.getElementById('rewardSubText').innerHTML = `Du≈ºo siƒô nauczy≈Çe≈õ! Spr√≥buj nastƒôpnym razem odpowiedzieƒá na pytania za pierwszym razem ≈ºeby zdobyƒá odznakƒô.`;
            }
            
            document.getElementById('rewardButtons').innerHTML = `
                <button class="next-btn" onclick="closeReward(); showLevel(${currentLevel + 1});">üöÄ Do Poziomu ${currentLevel + 1}!</button>
                <br><button class="next-btn" onclick="closeReward(); showStartScreen();">üè† Powr√≥t do Startu</button>
            `;
            
            document.getElementById('rewardPopup').classList.add('show');
            document.getElementById('overlay').classList.add('show');
        }

        function showCelebration() {
            gameStats.timeSpent = Math.round((new Date() - gameStats.startTime) / 60000);
            const accuracy = Math.round((gameStats.correctAnswers / gameStats.totalAttempts) * 100);
            
            explorerRank = "üåü Mistrz Cyfrowego ≈öwiata";
            saveProgress();
            updateExplorerRank();
            
            // Notify parent window of completion
            if (window.parent && window.parent !== window) {
                window.parent.postMessage({
                    type: 'moduleCompleted',
                    module: 'cyfrowy-odkrywca-swiata',
                    moduleName: 'Cyfrowy Odkrywca ≈öwiata'
                }, '*');
            }
            
            const content = document.getElementById('gameContent');
            content.innerHTML = `
                <div class="celebration">
                    <div style="font-size: 6em; margin-bottom: 30px;">üéâüåçüéâ</div>
                    <h2 style="color: #667eea; font-size: 3em; margin-bottom: 30px;">GRATULACJE!</h2>
                    
                    <div class="certificate">
                        <h3 style="font-size: 2.5em; margin-bottom: 20px;">üåü CERTYFIKAT MISTRZA CYFROWEGO ≈öWIATA üåü</h3>
                        <p style="font-size: 1.5em; margin-bottom: 15px;">Ten certyfikat zostaje przyznany:</p>
                        <h2 style="font-size: 2em; margin-bottom: 20px;">Cyfrowy Odkrywca ≈öwiata</h2>
                        <p style="font-size: 1.2em;">Za pomy≈õlne uko≈Ñczenie wszystkich poziom√≥w cyfrowej edukacji<br>
                        i zdobycie statusu Mistrza Cyfrowego ≈öwiata!</p>
                        <p style="margin-top: 20px; font-size: 1em;">üåç Jeste≈õ teraz prawdziwym cyfrowym podr√≥≈ºnikiem! üåç</p>
                    </div>

                    <div style="display: flex; justify-content: space-around; margin: 30px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #667eea;">${completedLevels.length}/10</div>
                            <div>Poziom√≥w Uko≈Ñczonych</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #667eea;">${accuracy}%</div>
                            <div>Dok≈Çadno≈õƒá</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #667eea;">${gameStats.timeSpent}</div>
                            <div>Minut Gry</div>
                        </div>
                    </div>

                    <button class="start-btn" onclick="showStartScreen()">üè† Powr√≥t do Startu</button>
                </div>
            `;
        }

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progress = (completedLevels.length / levels.length) * 100;
            progressFill.style.width = progress + '%';
        }

        function updateLevelNavigation() {
            const navigation = document.getElementById('levelNavigation');
            navigation.innerHTML = levels.map((level, index) => {
                const levelNum = index + 1;
                const isCompleted = completedLevels.includes(levelNum);
                const isActive = levelNum === currentLevel;
                const isAccessible = levelNum <= completedLevels.length + 1;
                
                return `<button class="level-nav-btn ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}" 
                    onclick="${isAccessible ? `showLevel(${levelNum})` : 'void(0)'}" 
                    ${!isAccessible ? 'disabled' : ''}>
                    ${level.icon} ${levelNum}
                </button>`;
            }).join('');
        }

        function updateExplorerRank() {
            const completedCount = completedLevels.length;
            let newRank = explorerRanks.find(rank => completedCount >= rank.min && completedCount <= rank.max);
            
            if (newRank) {
                explorerRank = newRank.name;
                document.getElementById('explorerRank').innerHTML = `
                    <span>${newRank.icon}</span>
                    <span>${explorerRank}</span>
                `;
            }
        }

        function saveProgress() {
            localStorage.setItem('cyfrowy-odkrywca-postep', JSON.stringify({
                completed: completedLevels,
                current: currentLevel,
                rank: explorerRank,
                stats: gameStats
            }));
        }

        function closeReward() {
            document.getElementById('rewardPopup').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }

        function showHelper() {
            alert('üí° Wskaz√≥wki dla Cyfrowego Odkrywcy ≈öwiata:\n\n' +
                'üîç Zawsze szukaj na wiarygodnych stronach\n' +
                'üç™ Akceptuj tylko niezbƒôdne ciasteczka\n' +
                'üì∫ Rozpoznawaj reklamy po etykietach jak "Reklama"\n' +
                'üéÆ W grach rozmawiaj tylko o grze\n' +
                'üì± Szanuj prywatno≈õƒá innych\n' +
                'ü§ñ Ty decydujesz co oglƒÖdasz na YouTube\n' +
                'üïµÔ∏è Pytaj siebie: czy to jest logiczne?\n' +
                'üìä Podawaj informacje tylko za zgodƒÖ rodzic√≥w\n' +
                'üì∫ Przesta≈Ñ oglƒÖdaƒá je≈õli co≈õ jest straszne\n' +
                'üí∞ Zawsze pytaj najpierw przed kupowaniem');
        }

        // Initialize game when page loads
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>